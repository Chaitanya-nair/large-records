# Benchmarks for HIW 2021

These benchmarks were taken using commit `22e389596844545e470f3825d261f1c403f98e2f`.

## Memory and time slots

Raw data generated by `measure-mem.sh`, processed by `ProcessMemoryLog.hs`,
and then manually split into two files (before and after) and plotted with

```
plot "memory-before.csv" using 1:2:3 with yerrorbars, "memory-after.csv" using 1:2:3 with yerrorbars
plot "time-before.csv" using 1:2:3 with yerrorbars, "time-after.csv" using 1:2:3 with yerrorbars
```

Every module compiled 100 times, using OS reported elapsed time (s) and memory
usage (kB), computed mean and std error over a baseline of an empty module.

## AST size

CBOR dumped by the `ghc-dump` plugin, then summarised with the `ghc-dump`
command line tool, and processed using `process.sh`.

```
set yrange [0:450000] ; plot "desugar-before.csv" using 1:($2+$3+$4), "desugar-after.csv" using 1:($2+$3+$4)
set yrange [0:450000] ; plot "simplifier-before.csv" using 1:($2+$3+$4), "simplifier-after.csv" using 1:($2+$3+$4)
```
